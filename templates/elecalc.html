<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elephant Calculator - Roblox Grow Your Garden</title>
    <meta name="description"
        content="Calculate runs needed for your Elephant pet in Roblox Grow Your Garden. Optimize your weight gain strategy to reach 3.5kg max weight efficiently.">
    <meta name="keywords"
        content="Roblox, Grow Your Garden, Elephant Pet, Weight Calculator, Pet Weight, Roblox Guide, DohmBoy64, Elephant Weight">

    <!-- Open Graph -->
    <meta property="og:title" content="Elephant Calculator - Roblox Grow Your Garden">
    <meta property="og:description"
        content="Calculate runs needed for your Elephant pet in Roblox Grow Your Garden. Reach 3.5kg fast!">
    <meta property="og:type" content="website">
    <meta property="og:image" content="{{ url_for('static', filename='assets/Elephant.webp', _external=True) }}">

    <!-- Favicon -->
    <link rel="icon" type="image/webp" href="{{ url_for('static', filename='assets/Elephant.webp') }}">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Nunito:wght@400;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            /* Magical Garden Palette */
            --primary-green: #7BC74D;
            --dark-green: #398D3C;
            --soil-brown: #8D5524;
            --wood-light: #C28E5B;
            --wood-dark: #8C5E35;
            --sky-blue: #E0F7FA;
            --sun-yellow: #FFD54F;
            --flower-pink: #FF80AB;
            --text-dark: #2D3436;
            --text-light: #F7F9F9;
            --paper-white: #FDFBF7;

            --shadow: 0 8px 0 rgba(0, 0, 0, 0.15);
            --shadow-pressed: 0 4px 0 rgba(0, 0, 0, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #87CEEB;
            /* Fallback */
            background: linear-gradient(180deg, #A2D9FF 0%, #E0F7FA 100%);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            background-image:
                radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.4) 0%, transparent 20%),
                radial-gradient(circle at 90% 10%, rgba(255, 255, 255, 0.4) 0%, transparent 20%);
        }

        /* Moving clouds background animation */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23ffffff' fill-opacity='0.2' d='M20 50 Q 25 40 35 50 T 50 50 T 65 50 T 80 50' /%3E%3C/svg%3E");
            background-size: 200px 200px;
            z-index: -1;
            opacity: 0.6;
            animation: cloudMove 60s linear infinite;
        }

        @keyframes cloudMove {
            from {
                background-position: 0 0;
            }

            to {
                background-position: 200px 50px;
            }
        }

        .container {
            width: 100%;
            max-width: 1000px;
            display: grid;
            gap: 20px;
            position: relative;
        }

        /* Header Style */
        header {
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }

        h1 {
            font-family: 'Fredoka', cursive;
            font-size: 3.5rem;
            color: var(--text-light);
            text-shadow:
                3px 3px 0 var(--dark-green),
                -1px -1px 0 var(--dark-green),
                1px -1px 0 var(--dark-green),
                -1px 1px 0 var(--dark-green),
                1px 1px 0 var(--dark-green);
            transform: rotate(-2deg);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary-green);
            padding: 10px 40px;
            border-radius: 50px;
            box-shadow: 0 8px 0 var(--dark-green), 0 15px 20px rgba(0, 0, 0, 0.1);
            border: 4px solid #fff;
            gap: 15px;
        }

        h1 img {
            width: 60px;
            height: 60px;
            filter: drop-shadow(2px 2px 0 rgba(0, 0, 0, 0.2));
            object-fit: contain;
        }

        /* Main Card */
        .wood-panel {
            background-color: var(--wood-light);
            border-radius: 20px;
            padding: 15px;
            box-shadow: 0 10px 0 var(--wood-dark), 0 20px 30px rgba(0, 0, 0, 0.2);
            border: 4px solid var(--wood-dark);
            position: relative;
        }

        .wood-panel::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            pointer-events: none;
        }

        .paper-content {
            background-color: var(--paper-white);
            border-radius: 12px;
            padding: 30px;
            position: relative;
            z-index: 1;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* Flex Layout for Content */
        .content-split {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
        }

        .input-section {
            flex: 1;
            min-width: 300px;
        }

        .result-section {
            flex: 0.8;
            min-width: 280px;
            background-color: rgba(123, 199, 77, 0.15);
            border-radius: 16px;
            padding: 24px;
            border: 2px dashed var(--primary-green);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Input Styling */
        .input-group {
            margin-bottom: 30px;
        }

        label {
            font-family: 'Fredoka', sans-serif;
            font-size: 1.4rem;
            color: var(--dark-green);
            margin-bottom: 12px;
            display: block;
            font-weight: 600;
        }

        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="number"] {
            width: 100px;
            padding: 12px;
            font-family: 'Fredoka', sans-serif;
            font-size: 1.5rem;
            border: 3px solid var(--primary-green);
            border-radius: 12px;
            color: var(--text-dark);
            text-align: center;
            background: #fff;
            transition: all 0.2s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--dark-green);
            box-shadow: 0 0 0 4px rgba(123, 199, 77, 0.3);
            transform: scale(1.05);
        }

        /* Slider Styling */
        input[type="range"] {
            flex: 1;
            -webkit-appearance: none;
            height: 12px;
            background: #E0E0E0;
            border-radius: 10px;
            outline: none;
            border: 2px solid #ccc;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: var(--sun-yellow);
            border: 3px solid #fff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        /* Results Styling */
        .result-card {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.05);
            border: 2px solid #eee;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .result-card:hover {
            transform: translateY(-2px);
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: var(--primary-green);
        }

        .result-card:last-child::before {
            background: var(--flower-pink);
        }

        .result-label {
            font-size: 1.1rem;
            color: #888;
            margin-bottom: 8px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .result-value {
            font-family: 'Fredoka', sans-serif;
            font-size: 3rem;
            color: var(--dark-green);
            line-height: 1;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .result-unit {
            font-size: 1rem;
            color: #aaa;
            font-weight: 600;
        }

        /* Progress Bar */
        .progress-container {
            margin-top: 10px;
            background: #eee;
            border-radius: 20px;
            height: 24px;
            width: 100%;
            overflow: hidden;
            border: 2px solid #ddd;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary-green), var(--sun-yellow));
            height: 100%;
            width: 0%;
            border-radius: 20px;
            transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
        }

        /* Decorative leaves */
        .leaf {
            position: absolute;
            color: var(--primary-green);
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
        }

        .info-tag {
            display: inline-block;
            background: #fff;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
            border: 2px solid #eee;
        }

        /* Constants Badge */
        .constants-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 30px;
        }

        /* Calculation Note */
        .calculation-note {
            margin-top: 30px;
            background-color: #FFFDE7;
            border: 2px solid #FFF59D;
            border-radius: 12px;
            padding: 15px;
            color: var(--wood-dark);
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
        }

        .calculation-note strong {
            color: var(--dark-green);
        }

        .calculation-note::before {
            content: '\f128';
            /* Question mark icon */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--sun-yellow);
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 0.8rem;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Footer */
        footer {
            text-align: center;
            color: var(--text-dark);
            margin-top: 30px;
            font-weight: 600;
            font-size: 1rem;
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
                padding: 10px 20px;
                white-space: nowrap;
            }

            .content-split {
                flex-direction: column;
                gap: 20px;
            }

            .paper-content {
                padding: 20px;
            }
        }
    </style>
</head>

<body>

    <i class="fas fa-leaf leaf" style="top: 10%; left: 5%; font-size: 4rem; transform: rotate(45deg);"></i>
    <i class="fas fa-carrot leaf"
        style="top: 80%; right: 5%; font-size: 3rem; transform: rotate(-30deg); color: var(--flower-pink);"></i>
    <i class="fas fa-seedling leaf" style="bottom: 10%; left: 10%; font-size: 5rem; transform: rotate(10deg);"></i>
    <i class="fas fa-cloud leaf" style="top: 15%; right: 15%; font-size: 6rem; color: #fff; opacity: 0.4;"></i>

    <div class="container">
        <header>
            <h1><img src="{{ url_for('static', filename='assets/Elephant.webp') }}" alt="Elephant"> Elephant Calculator
            </h1>
        </header>

        <main class="wood-panel">
            <div class="paper-content">
                <div class="content-split">
                    <!-- INPUT SECTION -->
                    <div class="input-section">
                        <div class="input-group">
                            <label><i class="fas fa-weight-hanging"
                                    style="color: var(--wood-dark); margin-right: 8px;"></i> Starting Base
                                Weight</label>
                            <div class="input-wrapper">
                                <input type="range" id="startingBaseSlider" min="0" max="3.4" step="0.1" value="2.0">
                                <input type="number" id="startingBase" min="0" max="3.4" step="0.1" value="2.0">
                            </div>
                            <div class="info-tag">Target: 3.5 kg (Elephant)</div>
                        </div>

                        <div class="input-group">
                            <label><i class="fas fa-stopwatch"
                                    style="color: var(--flower-pink); margin-right: 8px;"></i> Minutes per Run</label>
                            <div class="input-wrapper">
                                <input type="range" id="minutesPerRunSlider" min="1" max="60" value="15">
                                <input type="number" id="minutesPerRun" min="1" max="999" value="15">
                            </div>
                            <div class="info-tag">Avg run time</div>
                        </div>

                        <div class="calculation-note" id="mathExplanation">
                            How we calculate it: <br>
                            You need <strong>1.5 kg</strong> to reach the 3.5 kg goal. Since you gain <strong>0.1
                                kg</strong> per run, it takes <strong>15 runs</strong> to get there!
                        </div>
                    </div>

                    <!-- RESULT SECTION -->
                    <div class="result-section">
                        <div class="result-card">
                            <div class="result-label">Runs Needed</div>
                            <div class="result-value" id="runsNeeded">15</div>
                            <div class="result-unit">Level 50 Resets</div>
                        </div>

                        <div class="result-card">
                            <div class="result-label">Total Time</div>
                            <div class="result-value" id="totalTime" style="color: var(--flower-pink);">3h 45m</div>
                            <div class="result-unit">of pure grinding</div>
                        </div>

                        <!-- Visual Progress Bar -->
                        <div style="margin-top: 10px;">
                            <div
                                style="display: flex; justify-content: space-between; font-size: 0.9rem; font-weight: 700; margin-bottom: 5px; color: var(--dark-green);">
                                <span>Progress to Max KG</span>
                                <span id="progressPercent">57%</span>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" id="progressBar" style="width: 57%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <i class="fas fa-heart" style="color: var(--flower-pink);"></i> Made with passion by <a
                href="https://dohmboy64.com" target="_blank"
                style="color: var(--dark-green); text-decoration: none;">Dohmboy64</a>
        </footer>
    </div>

    <script>
        // Constants in the game logic
        const MAX_BASE_WEIGHT = 3.5;
        const GAIN_PER_RUN = 0.1;

        // Elements
        const elStartBase = document.getElementById('startingBase');
        const elStartBaseSlider = document.getElementById('startingBaseSlider');
        const elMins = document.getElementById('minutesPerRun');
        const elMinsSlider = document.getElementById('minutesPerRunSlider');

        const elRunsNeeded = document.getElementById('runsNeeded');
        const elTotalTime = document.getElementById('totalTime');
        const elProgressBar = document.getElementById('progressBar');
        const elProgressPercent = document.getElementById('progressPercent');

        // Synced Inputs helper
        function syncInputs(primary, secondary) {
            primary.addEventListener('input', () => {
                secondary.value = primary.value;
                calculate();
            });
        }

        // Setup syncing
        syncInputs(elStartBase, elStartBaseSlider);
        syncInputs(elStartBaseSlider, elStartBase);
        syncInputs(elMins, elMinsSlider);
        syncInputs(elMinsSlider, elMins);

        function formatTime(totalMinutes) {
            const hours = Math.floor(totalMinutes / 60);
            const mins = Math.round(totalMinutes % 60);

            if (hours === 0) return `${mins}m`;
            if (mins === 0) return `${hours}h`;
            return `${hours}h ${mins}m`;
        }

        function calculate() {
            let startBase = parseFloat(elStartBase.value);
            let minsPerRun = parseFloat(elMins.value);

            // Validation clamping
            if (isNaN(startBase) || startBase < 0) startBase = 0;
            if (startBase > MAX_BASE_WEIGHT) startBase = MAX_BASE_WEIGHT;

            if (isNaN(minsPerRun) || minsPerRun < 0) minsPerRun = 0;

            // Logic
            const baseNeeded = Math.max(0, MAX_BASE_WEIGHT - startBase);
            // Floating point fix: (1.5 / 0.1) can be 14.9999999 or 15.000001
            // Rounding the division margin slightly to avoid float errors
            const runsNeeded = Math.ceil(parseFloat(baseNeeded.toFixed(2)) / GAIN_PER_RUN);

            const totalMinutes = runsNeeded * minsPerRun;

            // Update UI
            // Simple animation for numbers could go here, but innerText is fast enough
            elRunsNeeded.innerText = runsNeeded;
            elTotalTime.innerText = formatTime(totalMinutes);

            // Update Progress Bar
            // Progress is how close we are to 3.5 from 0? 
            // Or how close we are to finishing FROM where we started?
            // Usually progress bars show "Current State" vs "Max State".
            // So if I am at 2.0kg / 3.5kg, I am 57% there.
            const percentage = Math.min(100, Math.max(0, (startBase / MAX_BASE_WEIGHT) * 100));
            elProgressBar.style.width = `${percentage}%`;
            elProgressPercent.innerText = `${Math.round(percentage)}%`;

            // Update Explanation
            const elMath = document.getElementById('mathExplanation');
            elMath.innerHTML = `
                How we calculate it: <br>
                You need <strong>${baseNeeded.toFixed(1)} kg</strong> more to reach the 3.5 kg elephant limit. <br>
                At <strong>0.1 kg</strong> per run, that takes <strong>${runsNeeded} runs</strong>!
            `;
        }

        // Init
        calculate();

    </script>
</body>

</html>